# 執筆ワークスペース

効率的なクリエイティブ執筆のための統合ワークフローシステムです。

## 特徴

- **トレンド分析** → **原稿生成** → **権利チェック** → **編集提案** の自動パイプライン
- インタラクティブな確認ポイント（トレンド確認、編集提案確認）
- プロジェクト単位でのバージョン管理
- 風刺エッセイ、台本、コラムなど複数の文体に対応

## クイックスタート

```bash
# 1. 新規プロジェクトを作成
node scripts/new-project.js --name "現代生活風刺"

# 2. 執筆パイプラインを実行
node orchestrator/cli/run.js -p "現代生活風刺" -t "AI疲れ,サブスク地獄"

# 3. 最終版を出力
node orchestrator/cli/run.js -p "現代生活風刺" --finalize
```

## コマンド一覧

### プロジェクト管理

```bash
# 新規プロジェクト作成
node scripts/new-project.js --name "プロジェクト名"
node scripts/new-project.js -i  # 対話モード

# プロジェクト一覧
node scripts/status.js

# プロジェクト詳細
node scripts/status.js -p "プロジェクト名"
```

### 執筆パイプライン

```bash
# 標準ワークフロー（確認ポイント付き）
node orchestrator/cli/run.js -p "プロジェクト名" -t "トレンド1,トレンド2"

# 自動モード（確認なし）
node orchestrator/cli/run.js -p "プロジェクト名" -t "トレンド" --auto

# 簡易ワークフロー（トレンド分析スキップ）
node orchestrator/cli/run.js -p "プロジェクト名" --workflow quick_draft

# 完全ワークフロー（全ステップ確認）
node orchestrator/cli/run.js -p "プロジェクト名" --workflow full_production

# 修正指示
node orchestrator/cli/run.js -p "プロジェクト名" --revise "第二幕をもっと皮肉っぽく"

# 最終版出力
node orchestrator/cli/run.js -p "プロジェクト名" --finalize
```

## ワークフロー

```
┌─────────────────────────────────────────────────────────────────┐
│  1. research_agent（トレンド分析）                               │
│     → 入力キーワードから関連トレンドを抽出                        │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│  🛑 確認ポイント①：トレンド確認                                  │
│     → ユーザーがトレンドを確認・編集                             │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│  2. creative_writer_agent（原稿生成）                            │
│     → トレンドを元に風刺エッセイを生成                           │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│  3. rights_checker_agent（権利チェック）                         │
│     → ブランド名、人物参照、著作権リスクを分析                    │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│  4. editor_agent（編集提案）                                     │
│     → 文章の改善点を提案                                         │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│  🛑 確認ポイント②：編集提案確認                                  │
│     → 提案を適用するか確認                                       │
└─────────────────────────────────────────────────────────────────┘
```

## プロジェクト構造

```
projects/YYYYMMDD_プロジェクト名/
├── project.json      # プロジェクト設定
├── drafts/           # 下書き（v1, v2, v3...）
│   ├── v1_20260129.md
│   └── v2_20260130.md
├── research/         # トレンド分析結果
│   └── trends_20260129.json
├── reports/          # 権利チェックレポート
│   └── v1_rights_report.md
├── reviews/          # 編集提案
│   └── v1_suggestions.md
└── final/            # 最終成果物
    └── 作品名.md
```

## エージェント一覧

| エージェント | 役割 |
|-------------|------|
| research_agent | トレンド分析、キーワード拡張 |
| creative_writer_agent | 風刺エッセイ・台本の生成 |
| rights_checker_agent | 商標・著作権リスクの分析 |
| editor_agent | 文章改善提案の生成 |

## ワークフロー設定

`orchestrator/workflows/` ディレクトリにJSONファイルで定義：

- `default.json` - 標準ワークフロー（トレンド確認 + 編集確認）
- `quick_draft.json` - 簡易ワークフロー（確認なし）
- `full_production.json` - 完全ワークフロー（全ステップ確認）

## ディレクトリ構成

```
/workspace/
├── orchestrator/           # ワークフロー統合
│   ├── cli/run.js          # メインCLI
│   ├── lib/
│   │   ├── pipeline.js     # パイプライン管理
│   │   └── projectManager.js
│   └── workflows/          # ワークフロー定義
├── agents/                 # エージェント群
│   ├── research_agent/
│   ├── creative_writer_agent/
│   ├── rights_checker_agent/
│   └── editor_agent/
├── shared/                 # 共通ライブラリ
│   └── lib/
│       ├── logger.js
│       ├── fileManager.js
│       └── prompter.js
├── scripts/                # ユーティリティスクリプト
│   ├── new-project.js
│   └── status.js
├── projects/               # プロジェクトデータ
└── package.json
```

## 注意事項

- 生成された作品は風刺・パロディ目的です
- 商用利用前には権利チェックレポートを確認してください
- 実在の人物・企業への言及には注意が必要です

## ライセンス

MIT
